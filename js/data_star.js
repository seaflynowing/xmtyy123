window.G||(window.G={});window.conf||(window.conf={});window.source||(window.source={});window.source.qq||(window.source.qq={});window.source.star||(window.source.star={});conf.qq={url:"http://article.data.rms.qq.com/out_hao123.php?appkey=7ea719e5622741b0bf6fcf789ef42392&stamp="+Date.parse(new Date()),tpl1:'<li><a target="_blank" href="#{linkUrl}" title="#{title}">#{title}</a></li>',tpl2:'<a target="_blank" href="#{linkUrl}"><img src="#{imgUrl}"><span>#{title}</span></a>'};conf.star={list:{aries:"白羊座(3.21-4.19)",taurus:"金牛座(4.20-5.20)",gemini:"双子座(5.21-6.21)",cancer:"巨蟹座(6.22-7.22)",leo:"狮子座(7.23-8.22)",virgo:"处女座(8.23-9.22)",libra:"天秤座(9.23-10.23)",scorpio:"天蝎座(10.24-11.22)",sagittarius:"射手座(11.23-12.21)",capricorn:"摩羯座(12.22-1.19)",aquarius:"水瓶座(1.20-2.18)",pisces:"双鱼座(2.19-3.20)"},urlday:"http://www.go108.com.cn/astro/day_astro_hao123.js.php",urltomorrow:"http://www.go108.com.cn/astro/tomorrow_astro_hao123.js.php",urlweek:"http://www.go108.com.cn/astro/week_astro_hao123.js.php",urlmonth:"http://www.go108.com.cn/astro/month_astro_hao123.js.php",urlyear:"http://www.go108.com.cn/astro/year_astro_hao123.js.php",tplday:'<div class="starInner"><div class="intro-star"><div class="intro-star-inner"><div class="intro-star-part1"><h3 class="hd-star" id="titleIcon"></h3><div class="comment"><p class="item"><span class="key">运势短评：</span>#{paragraph}</p></div><span class="link">由<a href="http://www.go108.com.cn">科技紫微星座网</a>提供</span></div><div class="intro-star-part2"><div class="short-intro"><div class="item-intro"><span class="hd-short">整体运</span><span class="bd-short starnum#{all_star}"></span></div><div class="item-intro"><span class="hd-short">爱情运</span><span class="bd-short starnum#{love_star}"></span></div><div class="item-intro"><span class="hd-short">事业运</span><span class="bd-short starnum#{work_star}"></span></div><div class="item-intro"><span class="hd-short">财富运</span><span class="bd-short starnum#{money_star}"></span></div></div><div class="features-star"><ul><li><span class="key">幸运颜色：</span>#{luck_color}</li><li><span class="key">幸运数字：</span>#{luck_num}</li><li><span class="key">贵人星座：</span>#{luck_astro}</li><li><span class="key">开运方位：</span>#{luck_azimuth}</li></ul></div></div></div></div><div class="info-star"><h3 class="title-info">运势内容详解</h3><div class="item-info-star"><h4 class="title title1">整体运</h4><p class="info">#{all_doc}</p></div><div class="item-info-star"><h4 class="title title2">爱情运</h4><p class="info">#{love_doc}</p></div><div class="item-info-star"><h4 class="title title3">事业运(学业)</h4><p class="info">#{work_doc}</p></div><div class="item-info-star"><h4 class="title title4">财富运</h4><p class="info">#{money_doc}</p></div></div></div>',tpltomorrow:'<div class="starInner"><div class="intro-star"><div class="intro-star-inner"><div class="intro-star-part1"><h3 class="hd-star" id="titleIcon"></h3><div class="comment"><p class="item"><span class="key">运势短评：</span>#{paragraph}</p></div><span class="link">由<a href="http://www.go108.com.cn">科技紫微星座网</a>提供</span></div><div class="intro-star-part2"><div class="short-intro"><div class="item-intro"><span class="hd-short">整体运</span><span class="bd-short starnum#{all_star}"></span></div><div class="item-intro"><span class="hd-short">爱情运</span><span class="bd-short starnum#{love_star}"></span></div><div class="item-intro"><span class="hd-short">事业运</span><span class="bd-short starnum#{work_star}"></span></div><div class="item-intro"><span class="hd-short">财富运</span><span class="bd-short starnum#{money_star}"></span></div></div><div class="features-star"><ul><li><span class="key">幸运颜色：</span>#{luck_color}</li><li><span class="key">幸运数字：</span>#{luck_num}</li><li><span class="key">贵人星座：</span>#{luck_astro}</li><li><span class="key">开运方位：</span>#{luck_azimuth}</li></ul></div></div></div></div><div class="info-star"><h3 class="title-info">运势内容详解</h3><div class="item-info-star"><h4 class="title title1">整体运</h4><p class="info">#{all_doc}</p></div><div class="item-info-star"><h4 class="title title2">爱情运</h4><p class="info">#{love_doc}</p></div><div class="item-info-star"><h4 class="title title3">事业运(学业)</h4><p class="info">#{work_doc}</p></div><div class="item-info-star"><h4 class="title title4">财富运</h4><p class="info">#{money_doc}</p></div></div></div>',tplweek:'<div class="starInner"><div class="intro-star"><div class="intro-star-inner"><div class="intro-star-part1"><h3 class="hd-star" id="titleIcon"></h3><div class="comment"><p class="item"><span class="key">运势短评：</span>#{paragraph}</p></div><span class="link">由<a href="http://www.go108.com.cn">科技紫微星座网</a>提供</span></div><div class="intro-star-part2"><div class="short-intro"><div class="item-intro"><span class="hd-short">整体运</span><span class="bd-short starnum#{all_star}"></span></div><div class="item-intro"><span class="hd-short">爱情运</span><span class="bd-short starnum#{love_star}"></span></div><div class="item-intro"><span class="hd-short">事业运</span><span class="bd-short starnum#{work_star}"></span></div><div class="item-intro"><span class="hd-short">财富运</span><span class="bd-short starnum#{money_star}"></span></div></div><div class="features-star"><ul><li><span class="key">幸运颜色：</span>#{luck_color}</li><li><span class="key">幸运数字：</span>#{luck_num}</li><li><span class="key">贵人星座：</span>#{luck_astro}</li><li><span class="key">开运方位：</span>#{luck_azimuth}</li><li><span class="key">幸&nbsp;运&nbsp;日：</span>#{luck_day}</li><li><span class="key">小人星座：</span>#{bad_astro}</li></ul></div></div></div></div><div class="info-star"><h3 class="title-info">运势内容详解</h3><div class="item-info-star"><h4 class="title title1">整体运</h4><p class="info">#{all_doc}</p></div><div class="item-info-star"><h4 class="title title2">爱情运</h4><p class="info">求爱秘籍：#{love_book}</p><p class="info">速配星座：#{match_astro}</p><p class="info">#{love_doc}</p></div><div class="item-info-star"><h4 class="title title3">事业运(学业)</h4><p class="info">#{work_doc}</p></div><div class="item-info-star"><h4 class="title title4">财富运</h4><p class="info">#{money_doc}</p></div></div></div>',tplmonth:'<div class="starInner starMonth"><div class="intro-star"><div class="intro-star-inner"><div class="intro-star-part1"><h3 class="hd-star" id="titleIcon"></h3><div class="comment"><p class="item"><span class="key">本月优势：</span>#{good_desc}</p><p class="item"><span class="key">本月劣势：</span>#{bad_desc}</p></div><span class="link">由<a href="http://www.go108.com.cn">科技紫微星座网</a>提供</span></div><div class="intro-star-part2"><div class="short-intro"><div class="item-intro"><span class="hd-short">整体运</span><span class="bd-short starnum#{all_star}"></span></div><div class="item-intro"><span class="hd-short">爱情运</span><span class="bd-short starnum#{love_star}"></span></div><div class="item-intro"><span class="hd-short">事业运</span><span class="bd-short starnum#{work_star}"></span></div><div class="item-intro"><span class="hd-short">财富运</span><span class="bd-short starnum#{money_star}"></span></span></div></div><div class="features-star"><ul><li><span class="key">贵人方位：</span>#{luck_azimuth}</li><li><span class="key">开运物品：</span>#{luck_object}</li><li><span class="key">休闲解压：</span>#{luck_leisure}</li></ul></div></div></div></div><div class="info-star"><h3 class="title-info">运势内容详解</h3><div class="item-info-star"><h4 class="title title1">整体运</h4><p class="info">#{all_doc}</p></div><div class="item-info-star"><h4 class="title title2">爱情运</h4><p class="info"><span class="bold">单身者：</span>#{single_love_doc}</p><p class="info"><span class="bold">恋爱者：</span>#{lover_love_doc}</p></div><div class="item-info-star"><h4 class="title title3">事业运(学业)</h4><p class="info"><span class="bold">上班族：</span>#{worker_work_doc}</p><p class="info"><span class="bold">学&nbsp;&nbsp;生：</span>#{student_work_doc}</p></div><div class="item-info-star"><h4 class="title title4">财富运</h4><p class="info">#{money_doc}</p></div></div></div>',tplyear:'<div class="starInner2"><div class="intro-star"><div class="intro-star-inner"><div class="intro-star-part1"><h3 class="hd-star" id="titleIcon"></h3><div class="comment"><p class="item"><span class="key">'+(new Date()).getFullYear()+'运势短评：</span>#{paragraph}</p></div><span class="link">由<a href="http://www.go108.com.cn">科技紫微星座网</a>提供</span></div><div class="intro-star-part2"><div class="short-intro"><div class="item-intro"><span class="hd-short">整体运</span><span class="bd-short starnum#{all_luck1_star}">幸运眷顾指数：</span><span class="bd-short starnum#{all_luck2_star}">享受快乐指数：</span></div><div class="item-intro"><span class="hd-short">爱情运</span><span class="bd-short starnum#{love_luck1_star}">终结孤单指数：</span><span class="bd-short starnum#{love_luck2_star}">恋情甜蜜指数：</span></div><div class="item-intro"><span class="hd-short">事业运</span><span class="bd-short starnum#{work_luck1_star}">加薪升官指数：</span><span class="bd-short starnum#{work_luck2_star}">跳槽顺利指数：</span></div><div class="item-intro"><span class="hd-short">财富运</span><span class="bd-short starnum#{money_luck1_star}">吸金赚钱指数：</span><span class="bd-short starnum#{money_luck2_star}">守财节俭指数：</span></div></div><div class="features-star"><ul><li><span class="key">幸运数字：</span>#{luck_num}</li><li><span class="key">幸&nbsp;&nbsp;运&nbsp;&nbsp;月：</span>#{luck_month}</li><li class="ex-item"><span class="key">幸运颜色：</span>#{luck_color}</li><li class="ex-item"><span class="key">开运物品：</span>#{luck_object}</li></ul></div></div></div></div><div class="info-star"><h3 class="title-info">运势内容详解</h3><div class="item-info-star"><h4 class="title title1">整体运</h4><p class="info">幸运眷顾指数：#{all_luck1_doc}</p><p class="info">享受快乐指数：#{all_luck2_doc}</p></div><div class="item-info-star"><h4 class="title title2">爱情运</h4><p class="info">终结孤单指数：#{love_luck1_doc}</p><p class="info">恋情甜蜜指数：#{love_luck2_doc}</p></div><div class="item-info-star"><h4 class="title title3">事业运(学业)</h4><p class="info">加薪升官指数：#{work_luck1_doc}</p><p class="info">跳槽顺利指数：#{work_luck2_doc}</p></div><div class="item-info-star"><h4 class="title title4">财富运</h4><p class="info">吸金赚钱指数：#{money_luck1_doc}</p><p class="info">守财节俭指数：#{money_luck2_doc}</p></div></div></div>'};G.data={init:function(){var a=G.data;a.initQQ();a.initStar(conf.memory.flagStar,conf.memory.flagType);loadJs("/common/js/monitor.js")},initQQ:function(){var b=this,f=byId("list-test"),d=byId("list-picture"),a={rootName:"testhot",flag:1,num:8,url:conf.qq.url,tpl:conf.qq.tpl1},c={rootName:"testnew",flag:1,num:8,url:conf.qq.url,tpl:conf.qq.tpl1},e={rootName:"testpicture",flag:1,num:5,url:conf.qq.url,tpl:conf.qq.tpl2};b.requestData(f,c);b.requestData(f,a);b.requestData(d,e)},initStar:function(d,b){var c=this,a={starName:d,flag:2,num:"",url:conf.star["url"+b],tpl:conf.star["tpl"+b],sourceType:b};c.requestData(byId("content-star"),a);G.memory.setDateTitle(conf.memory.flagType)},requestData:function(a,c){var b=this;a.innerHTML="";loadJs(c.url,function(){var d,e={};if(c.flag===1){d=source.qq[c.rootName].content.info}if(c.flag===2){if(c.sourceType!=""){d=source.star[c.sourceType]}else{d=source.star.day}}b.render(d,a,c)},function(){})},formatData:function(a,b){if(b>=0){return{data:a[b]}}else{return{data:a}}},render:function(e,b,f){var d=this,c="",a="";if(f.starName===undefined){each(e,function(j,g){var i=d.formatData(j);var h=i.data;c+=replaceTpl(f.tpl,h)},f.num)}else{each(e,function(j,g){if(g==f.starName){var i=d.formatData(j);var h=i.data;c+=replaceTpl(f.tpl,h)}},f.num)}b.innerHTML+=c;if(f.starName!=undefined){addClass(byId("titleIcon"),f.starName);byId("titleIcon").innerHTML=conf.star.list[f.starName]}}};conf.memory={flagStar:"aries",flagType:"day"};G.memory={init:function(){var a=G.memory;a.getCookie();a.setHistory();on(byId("starsList"),"click",function(f){stopDefault(f);f=f||window.event;var c=f.srcElement||f.target;while(c&&c.tagName!="A"){c=c.parentNode}if(c.tagName==="A"){var d=byId("starsList").getElementsByTagName("a");resetClass(d,"cur",c);var b=c.getAttribute("data-t");conf.memory.flagStar=b;G.data.initStar(conf.memory.flagStar,"day")}G.cookie("flagStar",conf.memory.flagStar);a.setDateTitle("day");var d=byId("titleStar").getElementsByTagName("a");resetClass(d,"cur",d[0])});on(byId("titleStar"),"click",function(f){stopDefault(f);f=f||window.event;var b=f.srcElement||f.target;if(b.tagName==="A"){var d=byId("titleStar").getElementsByTagName("a");resetClass(d,"cur",b);var c=b.getAttribute("data-t");conf.memory.flagType=c;G.data.initStar(conf.memory.flagStar,c);G.cookie("flagType",conf.memory.flagType);a.setDateTitle(conf.memory.flagType)}})},setDateTitle:function(a){var h=new Date();h.setDate(h.getDate()+1);tomorrow=h.getDate();var c=G.memory,b=new Date(),e=b.getFullYear(),d=b.getMonth()+1,g=b.getDate(),f=e+"-"+d+"-"+g,j=c.getMonDayAndSunDay(f),i={dayT:e+"年"+d+"月"+g+"日运势",tomorrowT:h.getFullYear()+"年"+(h.getMonth()+1)+"月"+tomorrow+"日运势",weekT:j[0]+"--"+j[1]+"运势",monthT:e+"年"+d+"月运势",yearT:e+"年运势"};if(a=="day"){byId("starDate").innerHTML=i.dayT}else{if(a=="tomorrow"){byId("starDate").innerHTML=i.tomorrowT}else{if(a=="week"){byId("starDate").innerHTML=i.weekT}else{if(a=="month"){byId("starDate").innerHTML=i.monthT}else{if(a=="year"){byId("starDate").innerHTML=i.yearT}}}}}},getMonDayAndSunDay:function(l){var i=l;var m=i.split("-");var j=new Date(m[0],m[1]-1,m[2]);var p=j.getDay();var g=parseInt(p,10);if(g==0){g=7}var a=7-g;var d=parseInt(m[2],10);var f=d+a;var o=f-6;var e=new Date(m[0],m[1]-1,o);var n=new Date(m[0],m[1]-1,f);var h=parseInt(e.getMonth())+1;var c=parseInt(n.getMonth())+1;var b=e.getFullYear()+"年"+h+"月"+e.getDate()+"日";var k=n.getFullYear()+"年"+c+"月"+n.getDate()+"日";var q=new Array();q.push(b);q.push(k);return q},getCookie:function(){if(G.cookie("flagStar")){conf.memory.flagStar=G.cookie("flagStar")}if(G.cookie("flagType")){conf.memory.flagType=G.cookie("flagType")}},setHistory:function(){var f=byId("starsList").getElementsByTagName("a"),e=byId("titleStar").getElementsByTagName("a");var d,b;for(var c=0,a=f.length;c<a;c++){if(f[c].getAttribute("data-t")==conf.memory.flagStar){d=f[c];break}}for(var c=0,a=e.length;c<a;c++){if(e[c].getAttribute("data-t")==conf.memory.flagType){b=e[c];break}}resetClass(f,"cur",d);resetClass(e,"cur",b)}};